/* =========================================================
   /css/graficos.css ‚Äî Tema claro (blanco + azules) alineado con oportunity.css
   Tipograf√≠a: Montserrat (si ya la cargas en <head>, puedes quitar @import)
   ========================================================= */
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;900&display=swap');

/* ===== Tokens base ===== */
:root{
  /* Colores base (en la l√≠nea de oportunity.css) */
  --charts-bg:    #ffffff;
  --charts-ink:   #0a1f2b;        /* texto principal */
  --charts-muted: #5f6b76;        /* texto secundario */
  --charts-accent:#092B3F;        /* azul marca */
  --charts-border:#e5eaef;        /* bordes claros */
  --charts-card:  #ffffff;        /* fondo de cards */
  --charts-panel: #f7fafc;        /* paneles y √°reas */
  --charts-grid:  rgba(9,43,63,.12); /* l√≠neas de rejilla */
  --charts-chartbg: #f7fafc;      /* fondo de la zona de gr√°fico */

  --charts-radius: 20px;
  --charts-shadow: 0 14px 40px rgba(0,0,0,.07);

  /* üîÑ Usa exactamente el mismo ancho que oportunity.css */
  --charts-maxw: var(--opty-maxw, min(96vw, 1320px));

  /* Colores series (azules) */
  --brand:  #3db2ff;   /* opcional */
  --brand2: #092B3F;   /* serie 1 (marca) */
  --brand3: #5f9ed1;   /* opcional */
  --brand4: #32c1ff;   /* serie 2 (azul claro) */

  /* Escala tipogr√°fica/espaciales del dashboard */
  --mul: 1.22;
  --h:   240px;
}

/* ===== Scope ===== */
.charts-scope{
  color: var(--charts-ink);
  font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  position: relative;
  background: var(--charts-bg);
  isolation: isolate;
}

/* (Se eliminan los fondos fotogr√°ficos) ‚Äî por compatibilidad, oc√∫ltalos si existieran */
.charts-scope .bg-cols{ display:none !important; }

/* ===== Cabecera ===== */
.charts-scope .charts-head{
  position:relative; z-index:1;
  display:flex; justify-content:center; text-align:center; gap:14px; margin-bottom:16px;
  padding-inline: 12px;
}
.charts-scope .charts-head > div{ max-width:var(--charts-maxw); margin:0 auto; }
.charts-scope .title{
  margin:0; font-weight:500; letter-spacing:.2px;
  color: var(--opty-accent, var(--charts-accent));
  font-size: calc(2.18rem * var(--mul)); line-height:1.12;
}
.charts-scope .lead{
  color:var(--charts-muted); margin:.35rem 0 0; font-weight:600;
  font-size: calc(1.14rem * var(--mul));
}

/* ===== Grid 2√ó2 centrado ===== */
.charts-quad{
  position:relative; z-index:1;
  max-width: var(--charts-maxw);         /* ‚¨ÖÔ∏è igual que oportunity.css */
  margin-inline:auto; padding-inline:12px;
  display:grid;
  grid-template-columns: 1fr 1fr;
  grid-auto-rows: minmax(360px, auto);
  gap: 20px;
  place-items: stretch;                   /* que las cards estiren al 100% */
}

/* ===== Cards ===== */
.card{
  background: var(--charts-card);
  border: 1px solid var(--charts-border);
  border-radius: var(--charts-radius);
  padding: 22px;
  box-shadow: var(--charts-shadow);
}

/* Texto */
.text-card{
  width: 100%;                            /* ‚¨ÖÔ∏è full-width dentro del grid */
  background: var(--charts-card);
  color: var(--charts-ink);
}
.text-card .punch{
  margin:0 0 .5rem; font-weight:700;
  color: var(--opty-accent, var(--charts-accent));
  font-size: calc(1.62rem * var(--mul));
  line-height:1.18;
}
.text-card .tagline{
  margin:.25rem 0 .8rem; font-weight:500;
  font-size: calc(1.10rem * var(--mul));
  color: var(--charts-muted);
}
.text-card .bullets{
  margin:0; padding-left:1.55rem; display:grid; gap:.45rem;
  font-size: calc(1.02rem * var(--mul)); color: var(--charts-ink);
}
.text-card .bullets li{ line-height:1.42; }

/* Gr√°ficos */
.chart-card{ width: 100%; }               /* ‚¨ÖÔ∏è full-width dentro del grid */
.chart-card h3{
  margin:0 0 .5rem; font-weight:800;
  color: var(--opty-accent, var(--charts-accent));
  font-size: calc(1.22rem * var(--mul));
}
.chart-card .meta{
  font-size: calc(0.98rem * var(--mul)); color: var(--charts-muted);
  margin-bottom:10px; font-weight:500;
}
.chart{
  height: var(--h);
  background: linear-gradient(180deg, #ffffff 0%, var(--charts-chartbg) 100%);
  border: 1px solid var(--charts-border);
  border-radius: 14px;
  position: relative; /* para tooltips */
}

/* ===== SVG, ejes, series, leyenda ===== */
svg{ width:100%; height:100%; display:block; }
.gridline{ stroke: var(--charts-grid); }

.tick, .axis-label{
  fill: var(--charts-ink) !important;
  font-weight: 600;
}
.tick{ font-size: calc(0.98rem * var(--mul)); }
.axis-label{ font-size: calc(1.00rem * var(--mul)); }

.serie{ fill:none; stroke-width: calc(2.8px * var(--mul)); stroke-linecap:round; }
.point{ cursor:pointer; }

/* Leyenda clara */
.legend{
  display:flex; gap:12px; align-items:center; margin-top:10px; flex-wrap:wrap;
  font-size: calc(0.98rem * var(--mul));
}
.legend .item{
  display:flex; align-items:center; gap:8px;
  color: var(--charts-ink); font-weight:600;
  background: #fff; border:1px solid var(--charts-border);
  border-radius:10px; padding:6px 10px;
  box-shadow: 0 8px 20px rgba(0,0,0,.04);
}
.legend .sw{ width:18px; height:6px; border-radius:4px; opacity:.95; }

/* Tooltip claro */
.tool{
  position:absolute; min-width:190px; max-width:380px; pointer-events:none; z-index:5;
  padding:12px 14px; background:#ffffff;
  border:1px solid var(--charts-border); border-radius:12px; box-shadow:0 12px 28px rgba(0,0,0,.08);
  color:#0f172a; font-weight:700; font-size: calc(1.00rem * var(--mul)); line-height:1.15;
}
.tool .t{ font-weight:500; color: var(--opty-accent, var(--charts-accent)); letter-spacing:.2px; margin-bottom:6px; }
.tool .s{ display:grid; gap:6px; margin-top:2px; color:#334155; }
.tool .r{ display:grid; grid-template-columns: 1fr auto; column-gap:12px; align-items:baseline; }
.tool .n{ font-weight:450; color:#1f2a44; }
.tool .v{ font-weight:500; color:#0f172a; font-variant-numeric: tabular-nums; }

/* ===== Fila ancho completo (mismo contenedor que opportunity) ===== */
.charts-row{
  position: relative; z-index: 1;
  max-width: var(--charts-maxw);          /* ‚¨ÖÔ∏è igual que oportunity.css */
  margin: 6px auto 0; padding-inline: 12px;
  display: flex; justify-content: center;
}
#dashboard-lombok .chart-card.wide{ width: 100%; }  /* ‚¨ÖÔ∏è ocupar contenedor */

/* ===== Responsive ===== */
@media (max-width: 1199.98px){
  .charts-scope{ --mul: 1.15; --h: 230px; }
}
@media (max-width: 991.98px){
  .charts-scope{ --mul: 1.10; --h: 210px; }
  .charts-quad{ grid-template-columns: 1fr; grid-auto-rows: auto; gap:18px; }
  .text-card, .chart-card{ width: 100%; }
}
@media (max-width: 575.98px){
  .charts-scope{ --mul: 1.04; --h: 200px; }
}

/* ===== Overrides ‚ÄúXL‚Äù ===== */
#dashboard-lombok{
  --mul: 1.34;
  --h: 260px;
}
#dashboard-lombok .chart-card{ border-radius: 14px; padding: 22px; }
#dashboard-lombok .chart-card h3{ font-size: calc(1.24rem * var(--mul)); }
#dashboard-lombok .chart-card .meta{ font-size: calc(1.02rem * var(--mul)); }
#dashboard-lombok .legend{ font-size: calc(0.98rem * var(--mul)); gap: 10px; }

@media (max-width: 991.98px){
  #dashboard-lombok{ --mul: 1.20; --h: 230px; }
}
@media (max-width: 575.98px){
  #dashboard-lombok{ --mul: 1.10; --h: 210px; }
}

/* Banderas junto a los t√≠tulos (h4) */
.text-card h4 .flag-img{
  width: 1.25em;        /* escala con el tama√±o de letra */
  height: auto;
  margin-right: .5em;
  border-radius: 2px;   /* esquinas suaves */
  vertical-align: -.12em;
  box-shadow: 0 0 0 1px rgba(0,0,0,.06), 0 1px 2px rgba(0,0,0,.06);
}
